        // 스타일 적용 함수 수정
        function fixStyles() {
            const styleEl = document.createElement('style');
            styleEl.textContent = chinaStyleFix + usaStyleFix + rowStyleFix + specialFeaturesStyleFix + wallPlacingStyleFix + `
                /* 흡수 애니메이션 효과 */
                .capturing {
                    animation: pulse-capture 0.2s ease-in-out;
                    opacity: 0.5;
                    transition: all 0.2s ease;
                }
                
                @keyframes pulse-capture {
                    0% { transform: scale(1); opacity: 0.8; }
                    50% { transform: scale(1.2); opacity: 0.5; }
                    100% { transform: scale(1); opacity: 0.8; }
                }
                
                /* 셀 흡수 시 지연 효과를 위한 트랜지션 */
                .cell {
                    transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out;
                }
            /* 모바일에서 셀 크기 조정 */
            @media (max-width: 576px) {
                .cell {
                    width: 35px !important; /* 모바일에서 고정 셀 크기 */
                    height: 35px !important;
                }
            }
            
            /* 작은 셀에 맞게 아이콘 크기 조정 */
            @media (max-width: 576px) {
                .china::after {
                    font-size: 16px !important;
                }
                .usa::after {
                    font-size: 8px !important;
                }
                .row::after, .wto::after, .imf::after {
                    font-size: 14px !important;
                }
                .visited::after {
                    font-size: 14px !important;
                }
            }
            
            /* 보드 래퍼 최대 높이 설정 */
            .board-wrapper {
                width: 100%;
                max-width: 600px;
                overflow: auto !important; /* 스크롤 강제 활성화 */
                max-height: 60vh; /* 화면 높이의 60%로 제한 */
                -webkit-overflow-scrolling: touch; /* iOS 스크롤 개선 */
                margin: 0 auto;
                padding: 5px;
                border: 1px solid #ddd; /* 경계 표시를 위한 테두리 */
                border-radius: 5px;
            }
                /* 작은 맵을 중앙에 정렬 */
                .board {
                    margin: 0 auto;
                }
                
                /* 순위표 스타일 - 여기에 추가 */
                .ranking-table {
                    margin-top: 15px;
                    width: 100%;
                }
                
                .ranking-table table {
                    width: 100%;
                    border-collapse: collapse;
                    margin-top: 10px;
                }
                
                .ranking-table th, .ranking-table td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: center;
                }
                
                .ranking-table th {
                    background-color: #f5f5f5;
                    font-weight: bold;
                }
                
                .usa-rank td {
                    background-color: rgba(60, 59, 110, 0.2);
                }
                
                .china-rank td {
                    background-color: rgba(222, 41, 16, 0.2);
                }
                
                .row-rank td {
                    background-color: rgba(96, 125, 139, 0.2);
                }
                
                .wto-rank td {
                    background-color: rgba(33, 150, 243, 0.2);
                }
                
                .imf-rank td {
                    background-color: rgba(156, 39, 176, 0.2);
                }
                
                /* 1위 강조 */
                .ranking-table tr:first-child td {
                    font-weight: bold;
                    font-size: 1.1em;
                }
            `;
            document.head.appendChild(styleEl);
        }
        // 즉시 스타일 적용
        fixStyles();
        
        // 게임 초기화 시 스타일 수정 함수 호출
        const originalInitGame = initGame;
        initGame = function() {
            originalInitGame.apply(this, arguments);
            fixStyles(); // 스타일 수정 적용
        };
        
        // 페이지 로드 시도 적용
        document.addEventListener('DOMContentLoaded', () => {
            fixStyles();
            showModeModal();
            
            // 창 크기 변경 시 보드 다시 렌더링
            window.addEventListener('resize', () => {
                if (!game.isGameOver) {
                    renderBoard();
                }
            });
        });
</script>
</body>
</html>
